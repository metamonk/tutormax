# API Keys (Required to enable respective provider)
ANTHROPIC_API_KEY="your_anthropic_api_key_here"       # Required: Format: sk-ant-api03-...
PERPLEXITY_API_KEY="your_perplexity_api_key_here"     # Optional: Format: pplx-...
OPENAI_API_KEY="your_openai_api_key_here"             # Optional, for OpenAI models. Format: sk-proj-...
GOOGLE_API_KEY="your_google_api_key_here"             # Optional, for Google Gemini models.
MISTRAL_API_KEY="your_mistral_key_here"               # Optional, for Mistral AI models.
XAI_API_KEY="YOUR_XAI_KEY_HERE"                       # Optional, for xAI AI models.
GROQ_API_KEY="YOUR_GROQ_KEY_HERE"                     # Optional, for Groq models.
OPENROUTER_API_KEY="YOUR_OPENROUTER_KEY_HERE"         # Optional, for OpenRouter models.
AZURE_OPENAI_API_KEY="your_azure_key_here"            # Optional, for Azure OpenAI models (requires endpoint in .taskmaster/config.json).
OLLAMA_API_KEY="your_ollama_api_key_here"             # Optional: For remote Ollama servers that require authentication.
GITHUB_API_KEY="your_github_api_key_here"             # Optional: For GitHub import/export features. Format: ghp_... or github_pat_...

# Redis Configuration (for message queue)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50
REDIS_MESSAGE_TTL_SECONDS=86400
REDIS_WORKER_BATCH_SIZE=10

# FastAPI Application Settings
DEBUG=False                                            # Set to True for development mode
API_PREFIX="/api"                                      # API route prefix
HOST="0.0.0.0"                                         # Server host
PORT=8000                                              # Server port
LOG_LEVEL="INFO"                                       # Logging level: DEBUG, INFO, WARNING, ERROR

# Redis Configuration
REDIS_URL="redis://localhost:6379/0"                   # Redis connection URL
REDIS_MAX_CONNECTIONS=10                               # Maximum Redis connections in pool

# CORS Settings (comma-separated list)
CORS_ORIGINS="http://localhost:3000,http://localhost:5173,http://localhost:8080"

# PostgreSQL Database Configuration
POSTGRES_USER=tutormax
POSTGRES_PASSWORD=tutormax_dev
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=tutormax

# SQLAlchemy Settings
DB_ECHO=false  # Set to true to log all SQL queries (useful for debugging)
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ML Model Settings
MODEL_VERSION=v1.0.0
MODEL_PATH=models/

# Feature Flags
ENABLE_SYNTHETIC_DATA=true
ENABLE_CHURN_PREDICTION=true
ENABLE_INTERVENTIONS=true

# Authentication & JWT Settings
SECRET_KEY="your-secret-key-change-in-production-use-openssl-rand-hex-32"  # Generate with: openssl rand -hex 32
JWT_ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# OAuth Configuration
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
MICROSOFT_CLIENT_ID="your-microsoft-client-id"
MICROSOFT_CLIENT_SECRET="your-microsoft-client-secret"
CUSTOM_OAUTH_CLIENT_ID=""  # Optional: Custom OAuth provider
CUSTOM_OAUTH_CLIENT_SECRET=""
OAUTH_REDIRECT_BASE_URL="http://localhost:8000"  # Change to your production domain

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL=false

# Account Security
MAX_FAILED_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION_MINUTES=30

# Email Configuration (for feedback invitations and notifications)
SMTP_HOST="smtp.gmail.com"  # SMTP server hostname
SMTP_PORT=587  # SMTP port (587 for TLS, 465 for SSL)
SMTP_USER="your-email@gmail.com"  # SMTP username
SMTP_PASSWORD="your-app-password"  # SMTP password (use app-specific password for Gmail)
SMTP_USE_TLS=true  # Use TLS encryption
SMTP_FROM_EMAIL=""  # Sender email (defaults to SMTP_USER if not set)
SMTP_FROM_NAME="TutorMax"  # Sender display name
# Security Hardening (Task 14.4)
# Rate Limiting - Distributed rate limiting using Redis
RATE_LIMIT_ENABLED=true
RATE_LIMIT_AUTH_LOGIN_REQUESTS=5          # Max login attempts per window
RATE_LIMIT_AUTH_LOGIN_WINDOW=300          # 5 minutes
RATE_LIMIT_AUTH_REGISTER_REQUESTS=3       # Max registrations per window
RATE_LIMIT_AUTH_REGISTER_WINDOW=3600      # 1 hour
RATE_LIMIT_API_READ_REQUESTS=100          # Max read requests per window
RATE_LIMIT_API_READ_WINDOW=60             # 1 minute
RATE_LIMIT_API_WRITE_REQUESTS=30          # Max write requests per window
RATE_LIMIT_API_WRITE_WINDOW=60            # 1 minute

# CSRF Protection
CSRF_ENABLED=true
CSRF_TOKEN_EXPIRY_HOURS=24

# XSS Prevention & Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000                     # 1 year in seconds
# CSP_POLICY=""                           # Leave empty to use default secure policy

# Input Sanitization
INPUT_SANITIZATION_ENABLED=true
MAX_INPUT_LENGTH=10000                    # Maximum input string length

# Secret Management
SECRET_ROTATION_DAYS=90                   # Warn when secrets are older than this

# Data Encryption & Privacy (Task 14.6)
ENCRYPTION_ENABLED=true                   # Enable AES-256 encryption for PII fields
ENCRYPTION_KEY=""                         # Optional: Custom encryption key (base64). Leave empty to derive from SECRET_KEY
ANONYMIZATION_ENABLED=true                # Anonymize data for analytics to protect privacy
COPPA_COMPLIANCE_ENABLED=true             # Enable COPPA protections for users under 13

# Data Retention & Compliance
AUDIT_LOG_RETENTION_DAYS=2555             # 7 years (FERPA compliance for educational records)
PII_DATA_RETENTION_DAYS=2555              # 7 years for student records
ANONYMIZE_AFTER_DAYS=1095                 # Anonymize inactive user data after 3 years

# Monitoring & Error Tracking (Task 19)
SENTRY_DSN=""                              # Sentry DSN for error tracking (get from sentry.io project settings)
SENTRY_ENVIRONMENT="development"           # Environment: development, staging, production
SENTRY_TRACES_SAMPLE_RATE=0.1              # % of transactions to sample (0.0-1.0). Use 1.0 for development, 0.1-0.2 for production
SENTRY_PROFILES_SAMPLE_RATE=0.1            # % of profiles to sample (0.0-1.0)
SENTRY_ENABLED=true                        # Enable/disable Sentry error tracking
